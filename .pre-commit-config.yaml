repos:
  # Code formatting
  - repo: https://github.com/psf/black
    rev: 23.12.1
    hooks:
      - id: black
        language_version: python3

  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort
        args: ["--profile", "black"]

  # Linting
  - repo: https://github.com/charliermarsh/ruff-pre-commit
    rev: v0.1.0
    hooks:
      - id: ruff
        args: [--fix, --exit-non-zero-on-fix]

  # Auditor - Custom code quality checks
  - repo: local
    hooks:
      - id: auditor-lint
        name: Auditor Code Linter
        entry: python -m auditor.code_linter
        language: system
        args: [--mode=check]
        pass_filenames: false
        files: \.py$

  - repo: local
    hooks:
      - id: auditor-static
        name: Auditor Static Analysis
        entry: python -m auditor.static_analysis
        language: system
        pass_filenames: false
        files: \.py$

# Exclude patterns
exclude: |
  (?x)(
    # Directories
    ^venv/|
    ^\.venv/|
    ^__pycache__/|
    ^\.git/|
    ^node_modules/|
    ^\.tox/|
    ^htmlcov/|
    ^build/|
    ^dist/|
    # Files
    ^\.coverage$|
    ^.*\.egg-info/|
    # Generated files
    reports/|
    test_.*\.py$
  )
